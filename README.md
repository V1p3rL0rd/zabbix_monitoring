# Скрипты установки Zabbix Server 7.0 LTS

Этот репозиторий содержит скрипты для автоматической установки и настройки Zabbix Server 7.0 LTS на операционных системах Ubuntu 24.04 и RHEL 9.5.

## Особенности

- Автоматическая установка Zabbix Server 7.0 LTS
- Настройка PostgreSQL в качестве базы данных
- Настройка Nginx в качестве веб-сервера
- Генерация самозаверенного SSL сертификата
- Настройка безопасности (SSL/TLS, файрвол)
- Поддержка двух дистрибутивов: Ubuntu 24.04 и RHEL 9.5

## Требования

### Ubuntu 24.04
- Минимум 2 ГБ RAM
- Минимум 20 ГБ свободного места на диске
- Доступ к интернету для загрузки пакетов
- Права root

### RHEL 9.5
- Минимум 2 ГБ RAM
- Минимум 20 ГБ свободного места на диске
- Доступ к интернету для загрузки пакетов
- Права root
- Подписка на репозитории RHEL (для установки пакетов)

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/zabbix-install-scripts.git
cd zabbix-install-scripts
```

2. Сделайте скрипты исполняемыми:
```bash
chmod +x install_zabbix_ubuntu.sh
chmod +x install_zabbix_rhel.sh
chmod +x install_zabbix_agent_ubuntu.sh
chmod +x install_zabbix_agent_rhel.sh
```

3. Выберите и запустите соответствующий скрипт:

Для установки сервера Zabbix на Ubuntu 24.04:
```bash
sudo ./install_zabbix_ubuntu.sh
```

Для установки сервера Zabbix на RHEL 9.5:
```bash
sudo ./install_zabbix_rhel.sh
```

Для установки агента Zabbix на Ubuntu 24.04:
```bash
sudo ./install_zabbix_agent_ubuntu.sh
```

Для установки агента Zabbix на RHEL 9.5:
```bash
sudo ./install_zabbix_agent_rhel.sh
```

## Настройка

### Параметры базы данных и SSH
Перед запуском скриптов вы можете изменить следующие параметры в начале каждого скрипта:

Для скриптов установки сервера:
```bash
DB_NAME="zabbix"           # Имя базы данных
DB_USER="zabbix"           # Пользователь базы данных
DB_PASSWORD="zabbix_password"  # Пароль пользователя базы данных
POSTGRES_PASSWORD="postgres_password"  # Пароль пользователя postgres
SSH_PORT="22"              # Порт для SSH доступа
```

Для скриптов установки агента:
```bash
ZABBIX_SERVER="zabbix.local"  # Адрес сервера Zabbix
SSH_PORT="22"                 # Порт SSH
```

### После установки

1. Добавьте в файл `/etc/hosts` запись:
```
127.0.0.1 zabbix.local
```

2. Откройте в браузере: https://zabbix.local

3. Войдите с учетными данными по умолчанию:
- Логин: Admin
- Пароль: zabbix

4. SSH доступ будет доступен на порту, указанном в переменной `SSH_PORT` (по умолчанию 22)

## Безопасность

- Скрипты генерируют самозаверенный SSL сертификат, действительный 1 год
- Настроен файрвол (UFW для Ubuntu, FirewallD для RHEL)
- Настроены базовые параметры безопасности Nginx
- Настроен доступ по SSH (порт настраивается через переменную SSH_PORT)
- В продакшене рекомендуется:
  - Изменить пароли по умолчанию
  - Настроить реальный SSL сертификат
  - Настроить дополнительные параметры безопасности
  - Изменить стандартный порт SSH
  - Настроить аутентификацию по SSH-ключам вместо паролей

## Поддерживаемые версии

- Ubuntu 24.04 LTS
- RHEL 9.5

## Лицензия

MIT License

## Автор

[Ваше имя]

## Поддержка

При возникновении проблем создавайте issue в репозитории проекта. 
